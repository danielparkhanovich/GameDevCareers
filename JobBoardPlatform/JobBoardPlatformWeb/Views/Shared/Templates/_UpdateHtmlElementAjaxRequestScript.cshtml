@using JobBoardPlatform.BLL.Search;

<script>
    function sendRequestAndUpdateElement(url, elementId, onSuccessCallback) {
        console.log(url)
        $.ajax({
            url: url,
            method: 'POST',
            success: function (result) {
                onSuccess(result, elementId, onSuccessCallback);
            },
            error: function (xhr, status, error) {
                onError(xhr, status, error);
            }
        });
    }

    function sendRequestWithDataAndUpdateElement(url, elementId, data, onSuccessCallback) {
        console.log(url)
        $.ajax({
            url: url,
            data: data,
            method: 'POST',
            success: function (result) {
                onSuccess(result, elementId, onSuccessCallback);
            },
            error: function (xhr, status, error) {
                onError(xhr, status, error);
            }
        });
    }

    function onSuccess(result, elementId, onSuccessCallback) {
        updateHtmlElement(result, elementId);

        if (onSuccessCallback != null) {
            onSuccessCallback();
        }
    }

    function updateHtmlElement(result, elementId) {
        console.log(result);
        const selector = `#${elementId}`;
        const element = $(selector);
        element.html(result);
    }

    function onError(xhr, status, error) {
        console.error(xhr.responseText);
        console.error(status);
        console.error(error);
    }

    function sendRequestWithData(url, data, onSuccessCallback) {
        console.log(url)
        $.ajax({
            url: url,
            data: data,
            method: 'POST',
            success: function (result) {
                if (onSuccessCallback != null) {
                    onSuccessCallback();
                }
            },
            error: function (xhr, status, error) {
                onError(xhr, status, error);
            }
        });
    }
</script>
